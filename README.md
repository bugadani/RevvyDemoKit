# RevvyDemoKit

Generated by STM32CubeMX 5.0.0 with STM32CubeF4 Firmware Package V1.22.0 / 02-November-2018

2018-11-03:
- 6x 20kHz PWM
- 6x 50Hz PWM
- WS2812 driver with DMA for 4 LEDs
- 6 ADC with DMA
- EXTI for 6 motor encoders using direction bit
- EXTI for 4 sensors
- GPIO inputs and outputs

2018-11-04:
- Cleanup of unused source files
- Cleanup of naming conventions in CubeMX project
- 4x ultrasonic distance sensors are working with 10us resolution based on TIM10
- 6x encoder signals are processed to distance [m], angle [deg] and velocity [m/s]
- Accelerometer and compass is working on I2C1 interface
- Roll and pitch angles are calculated from accelerometer
- Buzzer added TIM9_CH2

2018-11-14:
- Schematic is now uploaded
- WS2812 was unreliable with TIM+DMA, it might be a HW bug in ST's HW
- WS2812 is now driven on SPI5+DMA, pin moved to PB8 from PB7
- WS2812 library contains new functions to support SPI+DMA

2018-11-16:
- Final schematic added
- Gerber files added
- 3D model added

2018-11-17:
- Structural parts added

2018-11-19:
- WS2812 library cleanup, 3Mbit/s SPI is used, bit time is 1us

2018-11-24:
- Toolchain updated to STM32CubeMX 5.0.0 with STM32CubeF4 Firmware Package V1.22.0 / 02-November-2018
- Bluetooth tested
- Battery voltage measurement factor corrected

2018-12-07:
- Toolchain updated to STM32CubeMX 5.0.0 with STM32CubeF4 Firmware Package V1.23.0 / 23-November-2018
- First 4 WS2812 LEDs are showing the status of batteries and Bluetooth connection
- Communication protocol was updated to receive 5 bytes instead of 3
- PID controllers are added, 4 for velocity and 2 for angle

No patch is needed after code generation!

ToDo:
- Compass is not calibrated yet
- USB Host?


